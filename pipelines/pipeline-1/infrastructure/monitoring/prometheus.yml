global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  # Container metrics (all containers)
  - job_name: 'cadvisor'
    static_configs:
      - targets: ['cadvisor:8080']

  # Host metrics
  - job_name: 'node-exporter'
    static_configs:
      - targets: ['node-exporter:9100']

  # Airflow metrics (only if statsd-exporter is running)
  - job_name: 'airflow'
    static_configs:
      - targets: ['statsd-exporter:9102']

  # Kafka JMX metrics (only if jmx-exporter is running)
  - job_name: 'kafka-jmx'
    static_configs:
      - targets: ['jmx-exporter:5556']

  # MinIO metrics (try public endpoint first)
  - job_name: 'minio'
    metrics_path: /minio/v2/metrics/cluster
    scheme: http
    static_configs:
      - targets: ['minio:9000']